// This is your Prisma schema file,
// learn more about it in the docs https//pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    // NOTE When using mysql or sqlserver, uncomment the @db.Text annotations in model Account below
    // Further reading
    // https//next-auth.js.org/adapters/prisma#create-the-prisma-schema
    // https//www.prisma.io/docs/reference/api-reference/prisma-schema-reference#string
    url      = env("DATABASE_URL")
}

model User {
  id String        @id @default(uuid())
  username String       @unique
  password String
  ratings Rating[]  
}

model Chip {
  id String        @id @default(uuid())
  name String
  info String
  flavor String
  combinations Combination[]
}

model Dip {
  id String        @id @default(uuid())
  name String
  flavor String
  combinations Combination[]
}

model Rating {
  id String           @id @default(uuid())
  rating Float
  userId String
  user User        @relation(fields: [userId], references: [id])
  combinationId String
  combination Combination @relation(fields: [combinationId], references: [id])
}


model Combination {
  id String          @id @default(uuid())
  name String
  chipId String
  chip Chip     @relation(fields: [chipId], references: [id])
  dipId String
  dip Dip   @relation(fields: [dipId], references: [id])
  rating Float   
  ratings Rating[]  
}